{"ast":null,"code":"var _jsxFileName = \"/home/smitpatel316/projects/cross-border-tax/frontend/src/context/TaxContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TaxContext = /*#__PURE__*/createContext(null);\nconst STEPS = ['dashboard', 'residency', 'income', 'dedctions', 'documents', 'review'];\nexport function TaxProvider({\n  children\n}) {\n  _s();\n  const [taxData, setTaxData] = useState({\n    user: {\n      firstName: '',\n      lastName: '',\n      email: ''\n    },\n    taxYear: new Date().getFullYear() - 1,\n    residency: {\n      us: {},\n      ca: {}\n    },\n    income: {\n      us: [],\n      ca: []\n    },\n    deductions: {\n      us: [],\n      ca: []\n    },\n    credits: {\n      us: [],\n      ca: []\n    },\n    documents: [],\n    calculations: {}\n  });\n  const [currentStep, setCurrentStep] = useState('dashboard');\n  const updateTaxData = updates => {\n    setTaxData(prev => ({\n      ...prev,\n      ...updates\n    }));\n  };\n  const addIncome = (country, incomeItem) => {\n    setTaxData(prev => ({\n      ...prev,\n      income: {\n        ...prev.income,\n        [country]: [...prev.income[country], {\n          ...incomeItem,\n          id: Date.now()\n        }]\n      }\n    }));\n  };\n  const removeIncome = (country, incomeId) => {\n    setTaxData(prev => ({\n      ...prev,\n      income: {\n        ...prev.income,\n        [country]: prev.income[country].filter(i => i.id !== incomeId)\n      }\n    }));\n  };\n  const addDeduction = (country, deductionItem) => {\n    setTaxData(prev => ({\n      ...prev,\n      deductions: {\n        ...prev.deductions,\n        [country]: [...prev.deductions[country], {\n          ...deductionItem,\n          id: Date.now()\n        }]\n      }\n    }));\n  };\n  const removeDeduction = (country, deductionId) => {\n    setTaxData(prev => ({\n      ...prev,\n      deductions: {\n        ...prev.deductions,\n        [country]: prev.deductions[country].filter(d => d.id !== deductionId)\n      }\n    }));\n  };\n  const setStep = step => {\n    if (STEPS.includes(step)) {\n      setCurrentStep(step);\n    }\n  };\n  const nextStep = () => {\n    const currentIndex = STEPS.indexOf(currentStep);\n    if (currentIndex < STEPS.length - 1) {\n      setCurrentStep(STEPS[currentIndex + 1]);\n    }\n  };\n  const prevStep = () => {\n    const currentIndex = STEPS.indexOf(currentStep);\n    if (currentIndex > 0) {\n      setCurrentStep(STEPS[currentIndex - 1]);\n    }\n  };\n  const calculateTotals = () => {\n    const usIncome = taxData.income.us.reduce((sum, i) => sum + (parseFloat(i.amount) || 0), 0);\n    const caIncome = taxData.income.ca.reduce((sum, i) => sum + (parseFloat(i.amount) || 0), 0);\n    const usDeductions = taxData.deductions.us.reduce((sum, d) => sum + (parseFloat(d.amount) || 0), 0);\n    const caDeductions = taxData.deductions.ca.reduce((sum, d) => sum + (parseFloat(d.amount) || 0), 0);\n    return {\n      usIncome,\n      caIncome,\n      usDeductions,\n      caDeductions,\n      totalUSIncome: usIncome + caIncome * 1.36 // Simplified conversion\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(TaxContext.Provider, {\n    value: {\n      taxData,\n      updateTaxData,\n      addIncome,\n      removeIncome,\n      addDeduction,\n      removeDeduction,\n      currentStep,\n      setStep,\n      nextStep,\n      prevStep,\n      calculateTotals,\n      steps: STEPS\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n}\n_s(TaxProvider, \"Wy6+FBIsW1vuyjt4Q2YkNc6j6HU=\");\n_c = TaxProvider;\nexport function useTax() {\n  _s2();\n  const context = useContext(TaxContext);\n  if (!context) {\n    throw new Error('useTax must be used within a TaxProvider');\n  }\n  return context;\n}\n_s2(useTax, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport default TaxContext;\nvar _c;\n$RefreshReg$(_c, \"TaxProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","jsxDEV","_jsxDEV","TaxContext","STEPS","TaxProvider","children","_s","taxData","setTaxData","user","firstName","lastName","email","taxYear","Date","getFullYear","residency","us","ca","income","deductions","credits","documents","calculations","currentStep","setCurrentStep","updateTaxData","updates","prev","addIncome","country","incomeItem","id","now","removeIncome","incomeId","filter","i","addDeduction","deductionItem","removeDeduction","deductionId","d","setStep","step","includes","nextStep","currentIndex","indexOf","length","prevStep","calculateTotals","usIncome","reduce","sum","parseFloat","amount","caIncome","usDeductions","caDeductions","totalUSIncome","Provider","value","steps","fileName","_jsxFileName","lineNumber","columnNumber","_c","useTax","_s2","context","Error","$RefreshReg$"],"sources":["/home/smitpatel316/projects/cross-border-tax/frontend/src/context/TaxContext.jsx"],"sourcesContent":["import React, { createContext, useContext, useState } from 'react';\n\nconst TaxContext = createContext(null);\n\nconst STEPS = ['dashboard', 'residency', 'income', 'dedctions', 'documents', 'review'];\n\nexport function TaxProvider({ children }) {\n  const [taxData, setTaxData] = useState({\n    user: {\n      firstName: '',\n      lastName: '',\n      email: '',\n    },\n    taxYear: new Date().getFullYear() - 1,\n    residency: {\n      us: {},\n      ca: {},\n    },\n    income: {\n      us: [],\n      ca: [],\n    },\n    deductions: {\n      us: [],\n      ca: [],\n    },\n    credits: {\n      us: [],\n      ca: [],\n    },\n    documents: [],\n    calculations: {},\n  });\n\n  const [currentStep, setCurrentStep] = useState('dashboard');\n\n  const updateTaxData = (updates) => {\n    setTaxData(prev => ({\n      ...prev,\n      ...updates,\n    }));\n  };\n\n  const addIncome = (country, incomeItem) => {\n    setTaxData(prev => ({\n      ...prev,\n      income: {\n        ...prev.income,\n        [country]: [...prev.income[country], { ...incomeItem, id: Date.now() }],\n      },\n    }));\n  };\n\n  const removeIncome = (country, incomeId) => {\n    setTaxData(prev => ({\n      ...prev,\n      income: {\n        ...prev.income,\n        [country]: prev.income[country].filter(i => i.id !== incomeId),\n      },\n    }));\n  };\n\n  const addDeduction = (country, deductionItem) => {\n    setTaxData(prev => ({\n      ...prev,\n      deductions: {\n        ...prev.deductions,\n        [country]: [...prev.deductions[country], { ...deductionItem, id: Date.now() }],\n      },\n    }));\n  };\n\n  const removeDeduction = (country, deductionId) => {\n    setTaxData(prev => ({\n      ...prev,\n      deductions: {\n        ...prev.deductions,\n        [country]: prev.deductions[country].filter(d => d.id !== deductionId),\n      },\n    }));\n  };\n\n  const setStep = (step) => {\n    if (STEPS.includes(step)) {\n      setCurrentStep(step);\n    }\n  };\n\n  const nextStep = () => {\n    const currentIndex = STEPS.indexOf(currentStep);\n    if (currentIndex < STEPS.length - 1) {\n      setCurrentStep(STEPS[currentIndex + 1]);\n    }\n  };\n\n  const prevStep = () => {\n    const currentIndex = STEPS.indexOf(currentStep);\n    if (currentIndex > 0) {\n      setCurrentStep(STEPS[currentIndex - 1]);\n    }\n  };\n\n  const calculateTotals = () => {\n    const usIncome = taxData.income.us.reduce((sum, i) => sum + (parseFloat(i.amount) || 0), 0);\n    const caIncome = taxData.income.ca.reduce((sum, i) => sum + (parseFloat(i.amount) || 0), 0);\n    const usDeductions = taxData.deductions.us.reduce((sum, d) => sum + (parseFloat(d.amount) || 0), 0);\n    const caDeductions = taxData.deductions.ca.reduce((sum, d) => sum + (parseFloat(d.amount) || 0), 0);\n\n    return {\n      usIncome,\n      caIncome,\n      usDeductions,\n      caDeductions,\n      totalUSIncome: usIncome + (caIncome * 1.36), // Simplified conversion\n    };\n  };\n\n  return (\n    <TaxContext.Provider\n      value={{\n        taxData,\n        updateTaxData,\n        addIncome,\n        removeIncome,\n        addDeduction,\n        removeDeduction,\n        currentStep,\n        setStep,\n        nextStep,\n        prevStep,\n        calculateTotals,\n        steps: STEPS,\n      }}\n    >\n      {children}\n    </TaxContext.Provider>\n  );\n}\n\nexport function useTax() {\n  const context = useContext(TaxContext);\n  if (!context) {\n    throw new Error('useTax must be used within a TaxProvider');\n  }\n  return context;\n}\n\nexport default TaxContext;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}