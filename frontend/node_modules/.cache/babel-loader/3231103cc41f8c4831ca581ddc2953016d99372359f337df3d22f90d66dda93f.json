{"ast":null,"code":"// Tax calculation service - connects to backend API\nconst API_URL = 'http://localhost:4000/api';\n\n// Residency calculations\nexport async function calculateUSResidency(params) {\n  const response = await fetch(`${API_URL}/calculations/us-residency`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(params)\n  });\n  return response.json();\n}\nexport async function calculateCanadaResidency(params) {\n  const response = await fetch(`${API_URL}/calculations/ca-residency`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(params)\n  });\n  return response.json();\n}\n\n// Tax calculations\nexport async function calculateUSTax(income, filingStatus = 'single') {\n  const response = await fetch(`${API_URL}/calculations/us-tax`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      income,\n      filingStatus\n    })\n  });\n  return response.json();\n}\nexport async function calculateCanadaTax(income, province = 'ON') {\n  const response = await fetch(`${API_URL}/calculations/ca-tax`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      income,\n      province\n    })\n  });\n  return response.json();\n}\n\n// Foreign Tax Credit\nexport async function calculateFTC(foreignIncome, foreignTaxPaid, totalTax, totalIncome) {\n  const response = await fetch(`${API_URL}/calculations/ftc`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      foreignIncome,\n      foreignTaxPaid,\n      totalTax,\n      totalIncome\n    })\n  });\n  return response.json();\n}\n\n// Treaty benefits\nexport async function calculateTreatyBenefits(incomeItems) {\n  const response = await fetch(`${API_URL}/calculations/treaty`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      incomeItems\n    })\n  });\n  return response.json();\n}\n\n// Local tax engine (fallback when API not available)\nexport const TaxEngine = {\n  // US Substantial Presence Test\n  calculateUSResidency: params => {\n    const {\n      daysInUS,\n      daysInUSPrior1,\n      daysInUSPrior2,\n      greenCard\n    } = params;\n    if (greenCard) {\n      return {\n        isResident: true,\n        type: 'Lawful Permanent Resident',\n        citation: 'IRC 7701(b)(1)'\n      };\n    }\n    const weighted = daysInUS + daysInUSPrior1 / 3 + daysInUSPrior2 / 6;\n    if (weighted >= 183) {\n      return {\n        isResident: true,\n        type: 'Substantial Presence',\n        weightedDays: weighted,\n        citation: 'IRC 7701(b)(3)'\n      };\n    }\n    return {\n      isResident: false,\n      type: 'Non-resident',\n      weightedDays: weighted\n    };\n  },\n  // Canada Residency\n  calculateCanadaResidency: params => {\n    const {\n      daysInCanada,\n      homeInCanada,\n      spouseInCanada,\n      dependentsInCanada\n    } = params;\n    let ties = 0;\n    if (homeInCanada) ties += 2;\n    if (spouseInCanada) ties += 1;\n    if (dependentsInCanada) ties += 1;\n    if (daysInCanada >= 183) {\n      return {\n        isResident: true,\n        type: 'Factual Resident',\n        citation: 'ITA 2(1)'\n      };\n    }\n    if (ties >= 1) {\n      return {\n        isResident: true,\n        type: 'Deemed Resident',\n        residentialTies: ties,\n        citation: 'ITA 2(1)'\n      };\n    }\n    return {\n      isResident: false,\n      type: 'Non-resident'\n    };\n  },\n  // US Tax Brackets 2025\n  calculateUSTax: (income, filingStatus = 'single') => {\n    const brackets = filingStatus === 'married_jointly' ? [{\n      max: 23200,\n      rate: 0.10\n    }, {\n      max: 94300,\n      rate: 0.12\n    }, {\n      max: 201050,\n      rate: 0.22\n    }, {\n      max: 383900,\n      rate: 0.24\n    }, {\n      max: 487450,\n      rate: 0.32\n    }, {\n      max: 731200,\n      rate: 0.35\n    }, {\n      max: Infinity,\n      rate: 0.37\n    }] : [{\n      max: 11600,\n      rate: 0.10\n    }, {\n      max: 47150,\n      rate: 0.12\n    }, {\n      max: 100525,\n      rate: 0.22\n    }, {\n      max: 191950,\n      rate: 0.24\n    }, {\n      max: 243725,\n      rate: 0.32\n    }, {\n      max: 609350,\n      rate: 0.35\n    }, {\n      max: Infinity,\n      rate: 0.37\n    }];\n    let tax = 0;\n    let prevMax = 0;\n    for (const bracket of brackets) {\n      if (income > prevMax) {\n        const taxable = Math.min(income, bracket.max) - prevMax;\n        tax += taxable * bracket.rate;\n        prevMax = bracket.max;\n      }\n    }\n    return {\n      tax: Math.round(tax),\n      effectiveRate: (tax / income * 100).toFixed(2),\n      citation: 'IRC Section 1'\n    };\n  },\n  // Canada Tax (Federal + Ontario)\n  calculateCanadaTax: (income, province = 'ON') => {\n    const federal = [{\n      max: 55867,\n      rate: 0.15\n    }, {\n      max: 111733,\n      rate: 0.205\n    }, {\n      max: 173205,\n      rate: 0.26\n    }, {\n      max: 246752,\n      rate: 0.29\n    }, {\n      max: Infinity,\n      rate: 0.33\n    }];\n    const provincial = {\n      ON: [{\n        max: 49231,\n        rate: 0.0505\n      }, {\n        max: 98463,\n        rate: 0.0915\n      }, {\n        max: 150000,\n        rate: 0.1116\n      }, {\n        max: 220000,\n        rate: 0.1216\n      }, {\n        max: Infinity,\n        rate: 0.1316\n      }],\n      BC: [{\n        max: 47937,\n        rate: 0.0506\n      }, {\n        max: 95875,\n        rate: 0.077\n      }, {\n        max: 110076,\n        rate: 0.105\n      }, {\n        max: 133664,\n        rate: 0.1229\n      }, {\n        max: Infinity,\n        rate: 0.168\n      }]\n    };\n    let fedTax = 0,\n      provTax = 0,\n      prevMax = 0;\n    for (const bracket of federal) {\n      if (income > prevMax) {\n        fedTax += (Math.min(income, bracket.max) - prevMax) * bracket.rate;\n        prevMax = bracket.max;\n      }\n    }\n    prevMax = 0;\n    const provBrackets = provincial[province] || provincial.ON;\n    for (const bracket of provBrackets) {\n      if (income > prevMax) {\n        provTax += (Math.min(income, bracket.max) - prevMax) * bracket.rate;\n        prevMax = bracket.max;\n      }\n    }\n    const total = fedTax + provTax;\n    return {\n      federalTax: Math.round(fedTax),\n      provincialTax: Math.round(provTax),\n      totalTax: Math.round(total),\n      effectiveRate: (total / income * 100).toFixed(2),\n      citation: 'ITA 117'\n    };\n  },\n  // Foreign Tax Credit\n  calculateFTC: (foreignIncome, foreignTaxPaid, totalTax, totalIncome) => {\n    const limit = totalTax * (foreignIncome / totalIncome);\n    const credit = Math.min(foreignTaxPaid, limit);\n    return {\n      credit: Math.round(credit),\n      carryforward: Math.round(Math.max(0, foreignTaxPaid - limit)),\n      citation: 'IRC Section 901'\n    };\n  }\n};","map":{"version":3,"names":["API_URL","calculateUSResidency","params","response","fetch","method","headers","body","JSON","stringify","json","calculateCanadaResidency","calculateUSTax","income","filingStatus","calculateCanadaTax","province","calculateFTC","foreignIncome","foreignTaxPaid","totalTax","totalIncome","calculateTreatyBenefits","incomeItems","TaxEngine","daysInUS","daysInUSPrior1","daysInUSPrior2","greenCard","isResident","type","citation","weighted","weightedDays","daysInCanada","homeInCanada","spouseInCanada","dependentsInCanada","ties","residentialTies","brackets","max","rate","Infinity","tax","prevMax","bracket","taxable","Math","min","round","effectiveRate","toFixed","federal","provincial","ON","BC","fedTax","provTax","provBrackets","total","federalTax","provincialTax","limit","credit","carryforward"],"sources":["/home/smitpatel316/projects/cross-border-tax/frontend/src/services/taxEngine.js"],"sourcesContent":["// Tax calculation service - connects to backend API\nconst API_URL = 'http://localhost:4000/api';\n\n// Residency calculations\nexport async function calculateUSResidency(params) {\n  const response = await fetch(`${API_URL}/calculations/us-residency`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(params)\n  });\n  return response.json();\n}\n\nexport async function calculateCanadaResidency(params) {\n  const response = await fetch(`${API_URL}/calculations/ca-residency`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(params)\n  });\n  return response.json();\n}\n\n// Tax calculations\nexport async function calculateUSTax(income, filingStatus = 'single') {\n  const response = await fetch(`${API_URL}/calculations/us-tax`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ income, filingStatus })\n  });\n  return response.json();\n}\n\nexport async function calculateCanadaTax(income, province = 'ON') {\n  const response = await fetch(`${API_URL}/calculations/ca-tax`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ income, province })\n  });\n  return response.json();\n}\n\n// Foreign Tax Credit\nexport async function calculateFTC(foreignIncome, foreignTaxPaid, totalTax, totalIncome) {\n  const response = await fetch(`${API_URL}/calculations/ftc`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ foreignIncome, foreignTaxPaid, totalTax, totalIncome })\n  });\n  return response.json();\n}\n\n// Treaty benefits\nexport async function calculateTreatyBenefits(incomeItems) {\n  const response = await fetch(`${API_URL}/calculations/treaty`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ incomeItems })\n  });\n  return response.json();\n}\n\n// Local tax engine (fallback when API not available)\nexport const TaxEngine = {\n  // US Substantial Presence Test\n  calculateUSResidency: (params) => {\n    const { daysInUS, daysInUSPrior1, daysInUSPrior2, greenCard } = params;\n    \n    if (greenCard) {\n      return { isResident: true, type: 'Lawful Permanent Resident', citation: 'IRC 7701(b)(1)' };\n    }\n    \n    const weighted = daysInUS + (daysInUSPrior1 / 3) + (daysInUSPrior2 / 6);\n    \n    if (weighted >= 183) {\n      return { isResident: true, type: 'Substantial Presence', weightedDays: weighted, citation: 'IRC 7701(b)(3)' };\n    }\n    \n    return { isResident: false, type: 'Non-resident', weightedDays: weighted };\n  },\n  \n  // Canada Residency\n  calculateCanadaResidency: (params) => {\n    const { daysInCanada, homeInCanada, spouseInCanada, dependentsInCanada } = params;\n    \n    let ties = 0;\n    if (homeInCanada) ties += 2;\n    if (spouseInCanada) ties += 1;\n    if (dependentsInCanada) ties += 1;\n    \n    if (daysInCanada >= 183) {\n      return { isResident: true, type: 'Factual Resident', citation: 'ITA 2(1)' };\n    }\n    if (ties >= 1) {\n      return { isResident: true, type: 'Deemed Resident', residentialTies: ties, citation: 'ITA 2(1)' };\n    }\n    \n    return { isResident: false, type: 'Non-resident' };\n  },\n  \n  // US Tax Brackets 2025\n  calculateUSTax: (income, filingStatus = 'single') => {\n    const brackets = filingStatus === 'married_jointly' ? [\n      { max: 23200, rate: 0.10 },\n      { max: 94300, rate: 0.12 },\n      { max: 201050, rate: 0.22 },\n      { max: 383900, rate: 0.24 },\n      { max: 487450, rate: 0.32 },\n      { max: 731200, rate: 0.35 },\n      { max: Infinity, rate: 0.37 }\n    ] : [\n      { max: 11600, rate: 0.10 },\n      { max: 47150, rate: 0.12 },\n      { max: 100525, rate: 0.22 },\n      { max: 191950, rate: 0.24 },\n      { max: 243725, rate: 0.32 },\n      { max: 609350, rate: 0.35 },\n      { max: Infinity, rate: 0.37 }\n    ];\n    \n    let tax = 0;\n    let prevMax = 0;\n    \n    for (const bracket of brackets) {\n      if (income > prevMax) {\n        const taxable = Math.min(income, bracket.max) - prevMax;\n        tax += taxable * bracket.rate;\n        prevMax = bracket.max;\n      }\n    }\n    \n    return {\n      tax: Math.round(tax),\n      effectiveRate: ((tax / income) * 100).toFixed(2),\n      citation: 'IRC Section 1'\n    };\n  },\n  \n  // Canada Tax (Federal + Ontario)\n  calculateCanadaTax: (income, province = 'ON') => {\n    const federal = [\n      { max: 55867, rate: 0.15 },\n      { max: 111733, rate: 0.205 },\n      { max: 173205, rate: 0.26 },\n      { max: 246752, rate: 0.29 },\n      { max: Infinity, rate: 0.33 }\n    ];\n    \n    const provincial = {\n      ON: [\n        { max: 49231, rate: 0.0505 },\n        { max: 98463, rate: 0.0915 },\n        { max: 150000, rate: 0.1116 },\n        { max: 220000, rate: 0.1216 },\n        { max: Infinity, rate: 0.1316 }\n      ],\n      BC: [\n        { max: 47937, rate: 0.0506 },\n        { max: 95875, rate: 0.077 },\n        { max: 110076, rate: 0.105 },\n        { max: 133664, rate: 0.1229 },\n        { max: Infinity, rate: 0.168 }\n      ]\n    };\n    \n    let fedTax = 0, provTax = 0, prevMax = 0;\n    \n    for (const bracket of federal) {\n      if (income > prevMax) {\n        fedTax += (Math.min(income, bracket.max) - prevMax) * bracket.rate;\n        prevMax = bracket.max;\n      }\n    }\n    \n    prevMax = 0;\n    const provBrackets = provincial[province] || provincial.ON;\n    for (const bracket of provBrackets) {\n      if (income > prevMax) {\n        provTax += (Math.min(income, bracket.max) - prevMax) * bracket.rate;\n        prevMax = bracket.max;\n      }\n    }\n    \n    const total = fedTax + provTax;\n    return {\n      federalTax: Math.round(fedTax),\n      provincialTax: Math.round(provTax),\n      totalTax: Math.round(total),\n      effectiveRate: ((total / income) * 100).toFixed(2),\n      citation: 'ITA 117'\n    };\n  },\n  \n  // Foreign Tax Credit\n  calculateFTC: (foreignIncome, foreignTaxPaid, totalTax, totalIncome) => {\n    const limit = totalTax * (foreignIncome / totalIncome);\n    const credit = Math.min(foreignTaxPaid, limit);\n    return {\n      credit: Math.round(credit),\n      carryforward: Math.round(Math.max(0, foreignTaxPaid - limit)),\n      citation: 'IRC Section 901'\n    };\n  }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}