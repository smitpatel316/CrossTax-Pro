{"ast":null,"code":"import _objectSpread from\"/home/smitpatel316/projects/cross-border-tax/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useTax}from'../context/TaxContext';import{ArrowRight,ArrowLeft,DollarSign,AlertCircle,CheckCircle}from'lucide-react';import'./Residency.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const US_STATES=['AL','AK','AZ','AR','CA','CO','CT','DE','FL','GA','HI','ID','IL','IN','IA','KS','KY','LA','ME','MD','MA','MI','MN','MS','MO','MT','NE','NV','NH','NJ','NM','NY','NC','ND','OH','OK','OR','PA','RI','SC','SD','TN','TX','UT','VT','VA','WA','WV','WI','WY','DC'];const CA_PROVINCES=['ON','BC','AB','QC','MB','SK','NS','NB','NL','PE','NT','YT','NU'];export default function Residency(){var _taxData$residency,_taxData$residency$us,_taxData$residency2,_taxData$residency2$u,_taxData$residency3,_taxData$residency3$u,_taxData$residency4,_taxData$residency4$u,_taxData$residency5,_taxData$residency5$u,_taxData$residency6,_taxData$residency6$u,_taxData$residency7,_taxData$residency7$u,_taxData$residency8,_taxData$residency8$u,_taxData$residency9,_taxData$residency9$u,_taxData$residency0,_taxData$residency0$c,_taxData$residency1,_taxData$residency1$c,_taxData$residency10,_taxData$residency10$,_taxData$residency11,_taxData$residency11$,_taxData$residency12,_taxData$residency12$,_taxData$residency13,_taxData$residency13$,_taxData$residency14,_taxData$residency14$,_taxData$residency15,_taxData$residency15$,_taxData$residency16,_taxData$residency16$,_taxData$residency17,_taxData$residency17$;const{taxData,updateTaxData,setStep}=useTax();const[errors,setErrors]=useState({});const[usResidency,setUsResidency]=useState({status:((_taxData$residency=taxData.residency)===null||_taxData$residency===void 0?void 0:(_taxData$residency$us=_taxData$residency.us)===null||_taxData$residency$us===void 0?void 0:_taxData$residency$us.status)||'',daysInUS:((_taxData$residency2=taxData.residency)===null||_taxData$residency2===void 0?void 0:(_taxData$residency2$u=_taxData$residency2.us)===null||_taxData$residency2$u===void 0?void 0:_taxData$residency2$u.daysInUS)||0,daysInUSPrior1:((_taxData$residency3=taxData.residency)===null||_taxData$residency3===void 0?void 0:(_taxData$residency3$u=_taxData$residency3.us)===null||_taxData$residency3$u===void 0?void 0:_taxData$residency3$u.daysInUSPrior1)||0,daysInUSPrior2:((_taxData$residency4=taxData.residency)===null||_taxData$residency4===void 0?void 0:(_taxData$residency4$u=_taxData$residency4.us)===null||_taxData$residency4$u===void 0?void 0:_taxData$residency4$u.daysInUSPrior2)||0,greenCard:((_taxData$residency5=taxData.residency)===null||_taxData$residency5===void 0?void 0:(_taxData$residency5$u=_taxData$residency5.us)===null||_taxData$residency5$u===void 0?void 0:_taxData$residency5$u.greenCard)||false,visaType:((_taxData$residency6=taxData.residency)===null||_taxData$residency6===void 0?void 0:(_taxData$residency6$u=_taxData$residency6.us)===null||_taxData$residency6$u===void 0?void 0:_taxData$residency6$u.visaType)||'',homeInUS:((_taxData$residency7=taxData.residency)===null||_taxData$residency7===void 0?void 0:(_taxData$residency7$u=_taxData$residency7.us)===null||_taxData$residency7$u===void 0?void 0:_taxData$residency7$u.homeInUS)||false,spouseInUS:((_taxData$residency8=taxData.residency)===null||_taxData$residency8===void 0?void 0:(_taxData$residency8$u=_taxData$residency8.us)===null||_taxData$residency8$u===void 0?void 0:_taxData$residency8$u.spouseInUS)||false,workInUS:((_taxData$residency9=taxData.residency)===null||_taxData$residency9===void 0?void 0:(_taxData$residency9$u=_taxData$residency9.us)===null||_taxData$residency9$u===void 0?void 0:_taxData$residency9$u.workInUS)||false});const[caResidency,setCaResidency]=useState({status:((_taxData$residency0=taxData.residency)===null||_taxData$residency0===void 0?void 0:(_taxData$residency0$c=_taxData$residency0.ca)===null||_taxData$residency0$c===void 0?void 0:_taxData$residency0$c.status)||'',daysInCanada:((_taxData$residency1=taxData.residency)===null||_taxData$residency1===void 0?void 0:(_taxData$residency1$c=_taxData$residency1.ca)===null||_taxData$residency1$c===void 0?void 0:_taxData$residency1$c.daysInCanada)||0,homeInCanada:((_taxData$residency10=taxData.residency)===null||_taxData$residency10===void 0?void 0:(_taxData$residency10$=_taxData$residency10.ca)===null||_taxData$residency10$===void 0?void 0:_taxData$residency10$.homeInCanada)||false,spouseInCanada:((_taxData$residency11=taxData.residency)===null||_taxData$residency11===void 0?void 0:(_taxData$residency11$=_taxData$residency11.ca)===null||_taxData$residency11$===void 0?void 0:_taxData$residency11$.spouseInCanada)||false,dependentsInCanada:((_taxData$residency12=taxData.residency)===null||_taxData$residency12===void 0?void 0:(_taxData$residency12$=_taxData$residency12.ca)===null||_taxData$residency12$===void 0?void 0:_taxData$residency12$.dependentsInCanada)||false,workInCanada:((_taxData$residency13=taxData.residency)===null||_taxData$residency13===void 0?void 0:(_taxData$residency13$=_taxData$residency13.ca)===null||_taxData$residency13$===void 0?void 0:_taxData$residency13$.workInCanada)||false,healthCard:((_taxData$residency14=taxData.residency)===null||_taxData$residency14===void 0?void 0:(_taxData$residency14$=_taxData$residency14.ca)===null||_taxData$residency14$===void 0?void 0:_taxData$residency14$.healthCard)||false,bankAccount:((_taxData$residency15=taxData.residency)===null||_taxData$residency15===void 0?void 0:(_taxData$residency15$=_taxData$residency15.ca)===null||_taxData$residency15$===void 0?void 0:_taxData$residency15$.bankAccount)||false,departureDate:((_taxData$residency16=taxData.residency)===null||_taxData$residency16===void 0?void 0:(_taxData$residency16$=_taxData$residency16.ca)===null||_taxData$residency16$===void 0?void 0:_taxData$residency16$.departureDate)||'',returnDate:((_taxData$residency17=taxData.residency)===null||_taxData$residency17===void 0?void 0:(_taxData$residency17$=_taxData$residency17.ca)===null||_taxData$residency17$===void 0?void 0:_taxData$residency17$.returnDate)||''});const calculateUSStatus=()=>{const{daysInUS,daysInUSPrior1,daysInUSPrior2}=usResidency;const weighted=daysInUS+daysInUSPrior1/3+daysInUSPrior2/6;if(usResidency.greenCard)return{status:'resident',type:'Lawful Permanent Resident'};if(weighted>=183)return{status:'resident',type:'Substantial Presence'};return{status:'nonresident',type:'Non-resident'};};const calculateCAStatus=()=>{const{daysInCanada,homeInCanada,spouseInCanada,dependentsInCanada}=caResidency;let ties=0;if(homeInCanada)ties+=2;if(spouseInCanada)ties+=1;if(dependentsInCanada)ties+=1;if(daysInCanada>=183)return{status:'resident',type:'Factual Resident'};if(ties>=1)return{status:'resident',type:'Deemed Resident'};return{status:'nonresident',type:'Non-resident'};};const handleSubmit=e=>{e.preventDefault();const usStatus=calculateUSStatus();const caStatus=calculateCAStatus();updateTaxData({residency:{us:_objectSpread(_objectSpread({},usResidency),{},{calculatedStatus:usStatus}),ca:_objectSpread(_objectSpread({},caResidency),{},{calculatedStatus:caStatus})}});setStep('income');};const usResult=calculateUSStatus();const caResult=calculateCAStatus();return/*#__PURE__*/_jsxs(\"div\",{className:\"residency-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Tax Residency Status\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Tell us where you live and work to determine your filing requirements\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"section\",{className:\"residency-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"flag\",children:\"\\uD83C\\uDDFA\\uD83C\\uDDF8\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"United States\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Are you a US citizen or lawful permanent resident (green card holder)?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"radio-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"radio-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"greenCard\",checked:usResidency.greenCard,onChange:e=>setUsResidency(_objectSpread(_objectSpread({},usResidency),{},{greenCard:true}))}),\"Yes, I'm a US citizen or green card holder\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"radio-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"greenCard\",checked:!usResidency.greenCard,onChange:e=>setUsResidency(_objectSpread(_objectSpread({},usResidency),{},{greenCard:false}))}),\"No\"]})]})]}),!usResidency.greenCard&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Days physically present in US this year\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",max:\"366\",value:usResidency.daysInUS,onChange:e=>setUsResidency(_objectSpread(_objectSpread({},usResidency),{},{daysInUS:parseInt(e.target.value)||0})),placeholder:\"0\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Days in US (prior year)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",max:\"366\",value:usResidency.daysInUSPrior1,onChange:e=>setUsResidency(_objectSpread(_objectSpread({},usResidency),{},{daysInUSPrior1:parseInt(e.target.value)||0})),placeholder:\"0\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Days in US (2 years ago)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",max:\"366\",value:usResidency.daysInUSPrior2,onChange:e=>setUsResidency(_objectSpread(_objectSpread({},usResidency),{},{daysInUSPrior2:parseInt(e.target.value)||0})),placeholder:\"0\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Significant ties to the US:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkbox-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:usResidency.homeInUS,onChange:e=>setUsResidency(_objectSpread(_objectSpread({},usResidency),{},{homeInUS:e.target.checked}))}),\"Home in the US\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:usResidency.spouseInUS,onChange:e=>setUsResidency(_objectSpread(_objectSpread({},usResidency),{},{spouseInUS:e.target.checked}))}),\"Spouse/partner in the US\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:usResidency.workInUS,onChange:e=>setUsResidency(_objectSpread(_objectSpread({},usResidency),{},{workInUS:e.target.checked}))}),\"Work in the US\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"result-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"result-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"result-label\",children:\"US Tax Status:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"result-value \".concat(usResult.status),children:usResult.status==='resident'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CheckCircle,{size:16}),\" Resident - \",usResult.type]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AlertCircle,{size:16}),\" Non-resident\"]})})]}),usResult.status==='resident'&&/*#__PURE__*/_jsx(\"p\",{className:\"result-note\",children:\"You must file a US federal return (Form 1040)\"})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"residency-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"flag\",children:\"\\uD83C\\uDDE8\\uD83C\\uDDE6\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Canada\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Days physically present in Canada this year\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",max:\"366\",value:caResidency.daysInCanada,onChange:e=>setCaResidency(_objectSpread(_objectSpread({},caResidency),{},{daysInCanada:parseInt(e.target.value)||0})),placeholder:\"0\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Significant residential ties:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkbox-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:caResidency.homeInCanada,onChange:e=>setCaResidency(_objectSpread(_objectSpread({},caResidency),{},{homeInCanada:e.target.checked}))}),\"Home in Canada\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:caResidency.spouseInCanada,onChange:e=>setCaResidency(_objectSpread(_objectSpread({},caResidency),{},{spouseInCanada:e.target.checked}))}),\"Spouse/partner in Canada\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:caResidency.dependentsInCanada,onChange:e=>setCaResidency(_objectSpread(_objectSpread({},caResidency),{},{dependentsInCanada:e.target.checked}))}),\"Dependents in Canada\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:caResidency.workInCanada,onChange:e=>setCaResidency(_objectSpread(_objectSpread({},caResidency),{},{workInCanada:e.target.checked}))}),\"Work in Canada\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:caResidency.healthCard,onChange:e=>setCaResidency(_objectSpread(_objectSpread({},caResidency),{},{healthCard:e.target.checked}))}),\"Health card\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:caResidency.bankAccount,onChange:e=>setCaResidency(_objectSpread(_objectSpread({},caResidency),{},{bankAccount:e.target.checked}))}),\"Bank account in Canada\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"result-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"result-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"result-label\",children:\"Canada Tax Status:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"result-value \".concat(caResult.status),children:caResult.status==='resident'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CheckCircle,{size:16}),\" Resident - \",caResult.type]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AlertCircle,{size:16}),\" Non-resident\"]})})]}),caResult.status==='resident'&&/*#__PURE__*/_jsx(\"p\",{className:\"result-note\",children:\"You must file a Canadian T1 return\"})]})]}),(usResult.status==='resident'||caResult.status==='resident')&&/*#__PURE__*/_jsxs(\"section\",{className:\"cross-border-summary\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCCB Cross-Border Filing Requirements\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-grid\",children:[usResult.status==='resident'&&/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item us\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83C\\uDDFA\\uD83C\\uDDF8 United States\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"Form 1040 - Individual Income Tax Return\"}),usResidency.daysInUS>=183&&/*#__PURE__*/_jsx(\"li\",{children:\"State return (if applicable)\"}),/*#__PURE__*/_jsx(\"li\",{children:\"FBAR (if foreign accounts >$10k)\"})]})]}),caResult.status==='resident'&&/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item ca\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83C\\uDDE8\\uD83C\\uDDE6 Canada\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"T1 General - Individual Income Tax Return\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Provincial return (if applicable)\"}),/*#__PURE__*/_jsx(\"li\",{children:\"T1135 (if foreign property >$100k)\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn-secondary\",onClick:()=>setStep('dashboard'),children:[/*#__PURE__*/_jsx(ArrowLeft,{size:16}),\" Back\"]}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"btn-primary\",children:[\"Next: Income \",/*#__PURE__*/_jsx(ArrowRight,{size:16})]})]})]})]});}","map":{"version":3,"names":["React","useState","useTax","ArrowRight","ArrowLeft","DollarSign","AlertCircle","CheckCircle","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","US_STATES","CA_PROVINCES","Residency","_taxData$residency","_taxData$residency$us","_taxData$residency2","_taxData$residency2$u","_taxData$residency3","_taxData$residency3$u","_taxData$residency4","_taxData$residency4$u","_taxData$residency5","_taxData$residency5$u","_taxData$residency6","_taxData$residency6$u","_taxData$residency7","_taxData$residency7$u","_taxData$residency8","_taxData$residency8$u","_taxData$residency9","_taxData$residency9$u","_taxData$residency0","_taxData$residency0$c","_taxData$residency1","_taxData$residency1$c","_taxData$residency10","_taxData$residency10$","_taxData$residency11","_taxData$residency11$","_taxData$residency12","_taxData$residency12$","_taxData$residency13","_taxData$residency13$","_taxData$residency14","_taxData$residency14$","_taxData$residency15","_taxData$residency15$","_taxData$residency16","_taxData$residency16$","_taxData$residency17","_taxData$residency17$","taxData","updateTaxData","setStep","errors","setErrors","usResidency","setUsResidency","status","residency","us","daysInUS","daysInUSPrior1","daysInUSPrior2","greenCard","visaType","homeInUS","spouseInUS","workInUS","caResidency","setCaResidency","ca","daysInCanada","homeInCanada","spouseInCanada","dependentsInCanada","workInCanada","healthCard","bankAccount","departureDate","returnDate","calculateUSStatus","weighted","type","calculateCAStatus","ties","handleSubmit","e","preventDefault","usStatus","caStatus","_objectSpread","calculatedStatus","usResult","caResult","className","children","onSubmit","name","checked","onChange","min","max","value","parseInt","target","placeholder","concat","size","onClick"],"sources":["/home/smitpatel316/projects/cross-border-tax/frontend/src/pages/Residency.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useTax } from '../context/TaxContext';\nimport { ArrowRight, ArrowLeft, DollarSign, AlertCircle, CheckCircle } from 'lucide-react';\nimport './Residency.css';\n\nconst US_STATES = [\n  'AL','AK','AZ','AR','CA','CO','CT','DE','FL','GA','HI','ID','IL','IN','IA','KS','KY','LA','ME','MD',\n  'MA','MI','MN','MS','MO','MT','NE','NV','NH','NJ','NM','NY','NC','ND','OH','OK','OR','PA','RI','SC',\n  'SD','TN','TX','UT','VT','VA','WA','WV','WI','WY','DC'\n];\n\nconst CA_PROVINCES = ['ON','BC','AB','QC','MB','SK','NS','NB','NL','PE','NT','YT','NU'];\n\nexport default function Residency() {\n  const { taxData, updateTaxData, setStep } = useTax();\n  const [errors, setErrors] = useState({});\n\n  const [usResidency, setUsResidency] = useState({\n    status: taxData.residency?.us?.status || '',\n    daysInUS: taxData.residency?.us?.daysInUS || 0,\n    daysInUSPrior1: taxData.residency?.us?.daysInUSPrior1 || 0,\n    daysInUSPrior2: taxData.residency?.us?.daysInUSPrior2 || 0,\n    greenCard: taxData.residency?.us?.greenCard || false,\n    visaType: taxData.residency?.us?.visaType || '',\n    homeInUS: taxData.residency?.us?.homeInUS || false,\n    spouseInUS: taxData.residency?.us?.spouseInUS || false,\n    workInUS: taxData.residency?.us?.workInUS || false,\n  });\n\n  const [caResidency, setCaResidency] = useState({\n    status: taxData.residency?.ca?.status || '',\n    daysInCanada: taxData.residency?.ca?.daysInCanada || 0,\n    homeInCanada: taxData.residency?.ca?.homeInCanada || false,\n    spouseInCanada: taxData.residency?.ca?.spouseInCanada || false,\n    dependentsInCanada: taxData.residency?.ca?.dependentsInCanada || false,\n    workInCanada: taxData.residency?.ca?.workInCanada || false,\n    healthCard: taxData.residency?.ca?.healthCard || false,\n    bankAccount: taxData.residency?.ca?.bankAccount || false,\n    departureDate: taxData.residency?.ca?.departureDate || '',\n    returnDate: taxData.residency?.ca?.returnDate || '',\n  });\n\n  const calculateUSStatus = () => {\n    const { daysInUS, daysInUSPrior1, daysInUSPrior2 } = usResidency;\n    const weighted = daysInUS + (daysInUSPrior1 / 3) + (daysInUSPrior2 / 6);\n    \n    if (usResidency.greenCard) return { status: 'resident', type: 'Lawful Permanent Resident' };\n    if (weighted >= 183) return { status: 'resident', type: 'Substantial Presence' };\n    return { status: 'nonresident', type: 'Non-resident' };\n  };\n\n  const calculateCAStatus = () => {\n    const { daysInCanada, homeInCanada, spouseInCanada, dependentsInCanada } = caResidency;\n    \n    let ties = 0;\n    if (homeInCanada) ties += 2;\n    if (spouseInCanada) ties += 1;\n    if (dependentsInCanada) ties += 1;\n    \n    if (daysInCanada >= 183) return { status: 'resident', type: 'Factual Resident' };\n    if (ties >= 1) return { status: 'resident', type: 'Deemed Resident' };\n    return { status: 'nonresident', type: 'Non-resident' };\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    const usStatus = calculateUSStatus();\n    const caStatus = calculateCAStatus();\n\n    updateTaxData({\n      residency: {\n        us: { ...usResidency, calculatedStatus: usStatus },\n        ca: { ...caResidency, calculatedStatus: caStatus }\n      }\n    });\n\n    setStep('income');\n  };\n\n  const usResult = calculateUSStatus();\n  const caResult = calculateCAStatus();\n\n  return (\n    <div className=\"residency-page\">\n      <div className=\"page-header\">\n        <h1>Tax Residency Status</h1>\n        <p>Tell us where you live and work to determine your filing requirements</p>\n      </div>\n\n      <form onSubmit={handleSubmit}>\n        {/* US Section */}\n        <section className=\"residency-section\">\n          <div className=\"section-header\">\n            <span className=\"flag\">ðŸ‡ºðŸ‡¸</span>\n            <h2>United States</h2>\n          </div>\n\n          <div className=\"form-group\">\n            <label>Are you a US citizen or lawful permanent resident (green card holder)?</label>\n            <div className=\"radio-group\">\n              <label className=\"radio-label\">\n                <input\n                  type=\"radio\"\n                  name=\"greenCard\"\n                  checked={usResidency.greenCard}\n                  onChange={(e) => setUsResidency({...usResidency, greenCard: true})}\n                />\n                Yes, I'm a US citizen or green card holder\n              </label>\n              <label className=\"radio-label\">\n                <input\n                  type=\"radio\"\n                  name=\"greenCard\"\n                  checked={!usResidency.greenCard}\n                  onChange={(e) => setUsResidency({...usResidency, greenCard: false})}\n                />\n                No\n              </label>\n            </div>\n          </div>\n\n          {!usResidency.greenCard && (\n            <>\n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label>Days physically present in US this year</label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    max=\"366\"\n                    value={usResidency.daysInUS}\n                    onChange={(e) => setUsResidency({...usResidency, daysInUS: parseInt(e.target.value) || 0})}\n                    placeholder=\"0\"\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label>Days in US (prior year)</label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    max=\"366\"\n                    value={usResidency.daysInUSPrior1}\n                    onChange={(e) => setUsResidency({...usResidency, daysInUSPrior1: parseInt(e.target.value) || 0})}\n                    placeholder=\"0\"\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label>Days in US (2 years ago)</label>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    max=\"366\"\n                    value={usResidency.daysInUSPrior2}\n                    onChange={(e) => setUsResidency({...usResidency, daysInUSPrior2: parseInt(e.target.value) || 0})}\n                    placeholder=\"0\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"form-group\">\n                <label>Significant ties to the US:</label>\n                <div className=\"checkbox-group\">\n                  <label className=\"checkbox-label\">\n                    <input\n                      type=\"checkbox\"\n                      checked={usResidency.homeInUS}\n                      onChange={(e) => setUsResidency({...usResidency, homeInUS: e.target.checked})}\n                    />\n                    Home in the US\n                  </label>\n                  <label className=\"checkbox-label\">\n                    <input\n                      type=\"checkbox\"\n                      checked={usResidency.spouseInUS}\n                      onChange={(e) => setUsResidency({...usResidency, spouseInUS: e.target.checked})}\n                    />\n                    Spouse/partner in the US\n                  </label>\n                  <label className=\"checkbox-label\">\n                    <input\n                      type=\"checkbox\"\n                      checked={usResidency.workInUS}\n                      onChange={(e) => setUsResidency({...usResidency, workInUS: e.target.checked})}\n                    />\n                    Work in the US\n                  </label>\n                </div>\n              </div>\n            </>\n          )}\n\n          <div className=\"result-card\">\n            <div className=\"result-header\">\n              <span className=\"result-label\">US Tax Status:</span>\n              <span className={`result-value ${usResult.status}`}>\n                {usResult.status === 'resident' ? (\n                  <><CheckCircle size={16} /> Resident - {usResult.type}</>\n                ) : (\n                  <><AlertCircle size={16} /> Non-resident</>\n                )}\n              </span>\n            </div>\n            {usResult.status === 'resident' && (\n              <p className=\"result-note\">You must file a US federal return (Form 1040)</p>\n            )}\n          </div>\n        </section>\n\n        {/* Canada Section */}\n        <section className=\"residency-section\">\n          <div className=\"section-header\">\n            <span className=\"flag\">ðŸ‡¨ðŸ‡¦</span>\n            <h2>Canada</h2>\n          </div>\n\n          <div className=\"form-group\">\n            <label>Days physically present in Canada this year</label>\n            <input\n              type=\"number\"\n              min=\"0\"\n              max=\"366\"\n              value={caResidency.daysInCanada}\n              onChange={(e) => setCaResidency({...caResidency, daysInCanada: parseInt(e.target.value) || 0})}\n              placeholder=\"0\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>Significant residential ties:</label>\n            <div className=\"checkbox-group\">\n              <label className=\"checkbox-label\">\n                <input\n                  type=\"checkbox\"\n                  checked={caResidency.homeInCanada}\n                  onChange={(e) => setCaResidency({...caResidency, homeInCanada: e.target.checked})}\n                />\n                Home in Canada\n              </label>\n              <label className=\"checkbox-label\">\n                <input\n                  type=\"checkbox\"\n                  checked={caResidency.spouseInCanada}\n                  onChange={(e) => setCaResidency({...caResidency, spouseInCanada: e.target.checked})}\n                />\n                Spouse/partner in Canada\n              </label>\n              <label className=\"checkbox-label\">\n                <input\n                  type=\"checkbox\"\n                  checked={caResidency.dependentsInCanada}\n                  onChange={(e) => setCaResidency({...caResidency, dependentsInCanada: e.target.checked})}\n                />\n                Dependents in Canada\n              </label>\n              <label className=\"checkbox-label\">\n                <input\n                  type=\"checkbox\"\n                  checked={caResidency.workInCanada}\n                  onChange={(e) => setCaResidency({...caResidency, workInCanada: e.target.checked})}\n                />\n                Work in Canada\n              </label>\n              <label className=\"checkbox-label\">\n                <input\n                  type=\"checkbox\"\n                  checked={caResidency.healthCard}\n                  onChange={(e) => setCaResidency({...caResidency, healthCard: e.target.checked})}\n                />\n                Health card\n              </label>\n              <label className=\"checkbox-label\">\n                <input\n                  type=\"checkbox\"\n                  checked={caResidency.bankAccount}\n                  onChange={(e) => setCaResidency({...caResidency, bankAccount: e.target.checked})}\n                />\n                Bank account in Canada\n              </label>\n            </div>\n          </div>\n\n          <div className=\"result-card\">\n            <div className=\"result-header\">\n              <span className=\"result-label\">Canada Tax Status:</span>\n              <span className={`result-value ${caResult.status}`}>\n                {caResult.status === 'resident' ? (\n                  <><CheckCircle size={16} /> Resident - {caResult.type}</>\n                ) : (\n                  <><AlertCircle size={16} /> Non-resident</>\n                )}\n              </span>\n            </div>\n            {caResult.status === 'resident' && (\n              <p className=\"result-note\">You must file a Canadian T1 return</p>\n            )}\n          </div>\n        </section>\n\n        {/* Cross-Border Summary */}\n        {(usResult.status === 'resident' || caResult.status === 'resident') && (\n          <section className=\"cross-border-summary\">\n            <h3>ðŸ“‹ Cross-Border Filing Requirements</h3>\n            <div className=\"summary-grid\">\n              {usResult.status === 'resident' && (\n                <div className=\"summary-item us\">\n                  <strong>ðŸ‡ºðŸ‡¸ United States</strong>\n                  <ul>\n                    <li>Form 1040 - Individual Income Tax Return</li>\n                    {usResidency.daysInUS >= 183 && <li>State return (if applicable)</li>}\n                    <li>FBAR (if foreign accounts >$10k)</li>\n                  </ul>\n                </div>\n              )}\n              {caResult.status === 'resident' && (\n                <div className=\"summary-item ca\">\n                  <strong>ðŸ‡¨ðŸ‡¦ Canada</strong>\n                  <ul>\n                    <li>T1 General - Individual Income Tax Return</li>\n                    <li>Provincial return (if applicable)</li>\n                    <li>T1135 (if foreign property >$100k)</li>\n                  </ul>\n                </div>\n              )}\n            </div>\n          </section>\n        )}\n\n        <div className=\"form-actions\">\n          <button type=\"button\" className=\"btn-secondary\" onClick={() => setStep('dashboard')}>\n            <ArrowLeft size={16} /> Back\n          </button>\n          <button type=\"submit\" className=\"btn-primary\">\n            Next: Income <ArrowRight size={16} />\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}